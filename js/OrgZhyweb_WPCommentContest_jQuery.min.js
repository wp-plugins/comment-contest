function commentContestDelete(a){jQuery("#comment-contest-"+a).removeClass("cheatComment");jQuery("#comment-contest-"+a).addClass("removedComment");jQuery("#restoreLink-"+a).show();jQuery("#deleteLink-"+a).hide();jQuery("#stopCheatLink-"+a).hide();jQuery("#cheatLink-"+a).show()}function commentContestRestore(a){jQuery("#comment-contest-"+a).removeClass("removedComment");jQuery("#deleteLink-"+a).show();jQuery("#restoreLink-"+a).hide()}function commentContestCheat(a){jQuery("#comment-contest-"+a).removeClass("removedComment");jQuery("#comment-contest-"+a).addClass("cheatComment");jQuery("#stopCheatLink-"+a).show();jQuery("#cheatLink-"+a).hide();jQuery("#deleteLink-"+a).show();jQuery("#restoreLink-"+a).hide()}function commentContestStopCheat(a){jQuery("#comment-contest-"+a).removeClass("cheatComment");jQuery("#stopCheatLink-"+a).hide();jQuery("#cheatLink-"+a).show()}function selectRole(a){jQuery("#contestForm tr").each(function(){var c=jQuery(this);var b=c.find(".zhyweb_comment_contest_role").text();var d=b.split("|");if(jQuery.inArray(a,d)>=0&&b.length>0){c.find('input[id^="cb-select"]').each(function(){jQuery(this).attr("checked",true)})}})}function fisherYates(c){var b=c.length;if(b>0){while(--b){var a=Math.floor(Math.random()*(b+1));var e=c[b];var d=c[a];c[b]=d;c[a]=e}}}function toggleFilters(a){var b=jQuery("#filters");b.fadeToggle("slow","linear",function(){if(b.is(":visible")){jQuery("#filtersImg").attr("src",a+"/img/minus.png")}else{jQuery("#filtersImg").attr("src",a+"/img/plus.png")}})}function selectDuplicates(b){var a=0;jQuery("#contestForm tr").each(function(){var c=jQuery(this);var d=0;jQuery("#contestForm tr").each(function(){var f=jQuery(this);if(a!=d){var e=c.find("."+b).text();var g=f.find("."+b).text();if(e==g&&e!=""){c.find('input[id^="cb-select"]').each(function(){jQuery(this).attr("checked",true)});f.find('input[id^="cb-select"]').each(function(){jQuery(this).attr("checked",true)})}}d++});a++})}jQuery(document).ready(function(){jQuery("#ipAddressFilter").click(function(){selectDuplicates("zhyweb_comment_contest_ip")});jQuery("#emailAddressFilter").click(function(){selectDuplicates("zhyweb_comment_contest_email")});jQuery("#datepicker").datepicker();jQuery("#dateSubmit").click(function(){jQuery("#zwpcc_dateFilter_error_message").hide();jQuery("#datepicker").css("border","1px solid rgb(223,223,223)");jQuery("#dateHours").css("border","1px solid rgb(223,223,223)");jQuery("#dateMinutes").css("border","1px solid rgb(223,223,223)");var f=false;var d=/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/;var e=jQuery("#datepicker").val();var h="";var j="";var i="";if(d.test(e)){var g=d.exec(e);h=g[1];j=g[2];i=g[3];if(h>0&&h<13&&j>0&&j<32&&i>0){f=true}}if(f){var c=jQuery("#dateHours").val();var k=jQuery("#dateMinutes").val();if(c!=""&&c>=0&&c<24&&k!=""&&k>=0&&k<60){jQuery("#contestForm tr").each(function(){var m=jQuery(this);var n=m.find(".zhyweb_comment_contest_timestamp").text();if(n!=""){var l=i+h+j+c+k;if(n>l){m.find('input[id^="cb-select"]').each(function(){jQuery(this).attr("checked",true)})}}})}else{jQuery("#zwpcc_dateFilter_error_message").show();jQuery("#dateHours").css("border","2px solid red");jQuery("#dateMinutes").css("border","2px solid red")}}else{jQuery("#zwpcc_dateFilter_error_message").show();jQuery("#datepicker").css("border","2px solid red")}});jQuery(".help").tipTip({attribute:"title",fadeIn:50,fadeOut:50,keepAlive:true,activation:"hover",maxWidth:400});jQuery(".help").tipTip();function b(){jQuery('#contestForm input[id^="cb-select"]:checked').each(function(c,d){if(d.id.indexOf("-all-")==-1){commentContestDelete(jQuery(this).val())}else{jQuery(this).attr("checked",false)}})}jQuery("#contestForm #doaction").click(function(){if(jQuery('#contestForm select[name="action"]').val()=="delete"){b()}});jQuery("#contestForm #doaction2").click(function(){if(jQuery('#contestForm select[name="action2"]').val()=="delete"){b()}});function a(){jQuery('#contestForm input[id^="cb-select"]:checked').each(function(c,d){if(d.id.indexOf("-all-")==-1){commentContestRestore(jQuery(this).val())}else{jQuery(this).attr("checked",false)}})}jQuery("#contestForm #doaction").click(function(){if(jQuery('#contestForm select[name="action"]').val()=="restore"){a()}});jQuery("#contestForm #doaction2").click(function(){if(jQuery('#contestForm select[name="action2"]').val()=="restore"){a()}});jQuery("#dialog-modal-winners").dialog({height:500,width:800,modal:true,autoOpen:false,dialogClass:"wp-dialog",open:function(){var e=jQuery("#zwpcc_nb_winners").val();var d=new Array();var c=new Array();jQuery("#contestForm tr").each(function(){var h=jQuery(this);if(!h.hasClass("removedComment")){var i=h.find(".zhyweb_comment_contest_id").html();if(i!=null&&i!=""){if(h.hasClass("cheatComment")){c.push(i)}else{d.push(i)}}}});jQuery('#dialog-modal-winners tr[id^="result-comment-contest"]').each(function(){jQuery(this).hide()});fisherYates(c);if(c.length<e){fisherYates(d)}var g=jQuery.merge(c,d);for(var f=0;f<e&&f<g.length;f++){jQuery("#result-comment-contest-"+g[f]).show();if(f>=1){jQuery("#result-comment-contest-"+g[f-1]).after(jQuery("#result-comment-contest-"+g[f]))}}}});jQuery("#zwpcc_form").submit(function(){launch=true;jQuery("#zwpcc_nbWinners_error_message").hide();jQuery(this).find("input").each(function(){jQuery(this).css("border","1px solid rgb(223,223,223)")});var c=jQuery("#zwpcc_nb_winners").val();if(!jQuery.isNumeric(c)||c<=0){launch=false;jQuery("#zwpcc_nb_winners").css("border","2px solid red");jQuery("#zwpcc_nbWinners_error_message").show()}if(launch){jQuery("#dialog-modal-winners").dialog("open")}return false})});